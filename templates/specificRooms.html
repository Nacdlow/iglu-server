{{template "base/head" .}} {{template "base/nav" .}}

{{if .Bedrooms}}
<div class="container">
  <h2 class="pt-5 text-center">Bedrooms</h2>
  <div class="pt-3 pb-3">
    <hr>
  </div>

  <div class="row justify-content-center pt-4">
    {{range .Rooms}}{{if eq .RoomType 1}}
    <div class="col-lg-2 col-md-3 col-4 text-center pb-3">
      <a class="nav-link p-0" href="/room/{{.RoomID}}" id="roomAvatar">
        <img
          src="https://www.scottishfriendly.co.uk/blog/wp-content/uploads/2018/06/Kevin-McFarlane_avatar_1528802862-96x96.jpg"
          class="  rounded-circle z-depth-2" alt="avatar image">
      </a>
      <h6 class="pt-2">{{.RoomName}}</h6>
    </div>
    {{end}}{{end}}
  </div>
</div>
{{else if .Bathrooms}}
<div class="container">
  <h2 class="pt-5 text-center">Bathrooms</h2>
  <div class="pt-3 pb-3">
    <hr>
  </div>

  <div class="row justify-content-center pt-4">
    {{range .Rooms}}{{if eq .RoomType 4}}
    <div class="col-lg-2 col-md-3 col-4 text-center pb-3">
      <a class="nav-link p-0" href="/room/{{.RoomID}}" id="roomAvatar">
        <img
          src="https://www.scottishfriendly.co.uk/blog/wp-content/uploads/2018/06/Kevin-McFarlane_avatar_1528802862-96x96.jpg"
          class="  rounded-circle z-depth-2" alt="avatar image">
      </a>
      <h6 class="pt-2">{{.RoomName}}</h6>
    </div>
    {{end}}{{end}}
  </div>
</div>
{{else}}
<div class="container">
  <div class="row justify-content-center pt-3">
    <!--<h2 class="pt-5 text-center">Room Control</h2>-->
    <h2 class="pt-5 pr-3 text-center">Room Temperature</h2>
    <div class="card warning-color circle d-flex">
      <div class="card-body d-flex align-items-center justify-content-center animated rotateIn">
        <h5 class="pt-1" style="font-size: 3em;">{{.Temp}}<small>Â°C</small></h5>
      </div>
    </div>
  </div>

  <div class="mobhide">
    <!-- devices tabs-->
    <ul class="nav nav-tabs nav-fill d-flex justify-content-center pt-3" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
          aria-selected="true" style="background-color: #B2B2B2;"><i class="far fa-lightbulb fa-2x"></i><br>Lights</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
          aria-selected="false" style="background-color: #818181;"><i
            class="fas fa-volume-up fa-2x"></i><br>Speakers</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
          aria-selected="false" style="background-color: #B2B2B2;"><i
            class="far fa-snowflake fa-2x"></i><br>Temperature</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="tv-tab" data-toggle="tab" href="#tv" role="tab" aria-controls="tv" aria-selected="false"
          style="background-color: #818181;"><i class="fas fa-tv fa-2x"></i><br>TV</a>
      </li>
      <li class="nav-item">
        <a class="nav-link black-text" id="tv-tab" data-toggle="modal" data-target="#addModal" role="tab"
          aria-controls="tv" aria-selected="false" style="background-color: #ffffff;"><i
            class="fas fa-plus fa-2x"></i><br>Add Device</a>
      </li>
    </ul>
    <!-- /devices tabs-->

    <!-- devices' tab content (the devices cards)-->

    <div class="tab-content" id="myTabContent">

      <!--light device tab cards-->
      <div class="tab-pane show active" id="home" role="tabpanel" aria-labelledby="home-tab">
        <div class="row justify-content-center pt-5 pr-5 pl-5 pb-3">
          {{range .Devices}}{{if and (eq .Type 0) (eq .RoomID $.Room.RoomID)}}
          <div class="col-lg-4 col-md-6">
            {{template "cards/light" .}}
          </div>
          {{end}}{{end}}
        </div>
      </div>
      <!--/light device tab cards-->

      <!--speaker device tab cards-->
      <div class="tab-pane" id="profile" role="tabpanel" aria-labelledby="profile-tab">
        <div class="row justify-content-center pt-5 pr-5 pl-5 pb-3">

          {{range .Devices}}{{if and (eq .Type 3) (eq .RoomID $.Room.RoomID)}}
          <!--Card 1-->
          <div class="col-lg-4 col-md-6">
            {{template "cards/speaker" .}}
          </div>
          {{end}}{{end}}
        </div>
      </div>
      <!--/speaker device tab cards-->

      <!--temp device tab cards-->
      <div class="tab-pane" id="contact" role="tabpanel" aria-labelledby="contact-tab">

        <div class="row justify-content-center pt-5 pr-5 pl-5 pb-3">
          {{range .Devices}}{{if and (eq .Type 1) (eq .RoomID $.Room.RoomID)}}
          <!--Card 1-->
          <div class="col-lg-4 col-md-6">
            {{template "cards/temp" .}}
          </div>
          {{end}}{{end}}
        </div>
      </div>

      <!--tv device tab cards-->
      <div class="tab-pane" id="tv" role="tabpanel" aria-labelledby="contact-tab">

        <div class="row justify-content-center pt-5 pr-5 pl-5 pb-3">
          {{range .Devices}}{{if and (eq .Type 2) (eq .RoomID $.Room.RoomID)}}
          <!--Card 1-->
          <div class="col-lg-4 col-md-6">
            {{template "cards/tv" .}}
          </div>
          {{end}}{{end}}
        </div>
      </div>
      <!--/tv device tab cards-->

    </div>
  </div>

  <div class="deskhide">
    <div class="pt-5">
      <h3 class="text-center">Lights <i class="far fa-lightbulb"></i></h3>
      <div class="scrolling-wrapper">
        {{range .Devices}}{{if and (eq .Type 0) (eq .RoomID $.Room.RoomID)}}
        {{template "cards/light" .}}
        {{end}}{{end}}
      </div>
    </div>

    <div class="pt-5">
      <h3 class="text-center">Speakers <i class="fas fa-volume-up"></i></h3>
      <div class="scrolling-wrapper">
        {{range .Devices}}{{if and (eq .Type 3) (eq .RoomID $.Room.RoomID)}}
        {{template "cards/speaker" .}}
        {{end}}{{end}}
      </div>
    </div>

    <div class="pt-5">
      <h3 class="text-center">Temperature <i class="far fa-snowflake"></i></h3>
      <div class="scrolling-wrapper">
        {{range .Devices}}{{if and (eq .Type 1) (eq .RoomID $.Room.RoomID)}}
        {{template "cards/temp" .}}
        {{end}}{{end}}
      </div>
    </div>

    <div class="pt-5">
      <h3 class="text-center">TV <i class="fas fa-tv"></i></h3>
      <div class="scrolling-wrapper">
        {{range .Devices}}{{if and (eq .Type 2) (eq .RoomID $.Room.RoomID)}}
        {{template "cards/tv" .}}
        {{end}}{{end}}
      </div>
    </div>
  </div>
</div>
{{end}}

<div class="modal bottom fade" id="options" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog modal-dialog-centered" role="document" data-backdrop="false">
    <div class="modal-content" data-backdrop="false" method="POST">
      <div class="modal-header navcolor">
        <h5 class="modal-title">Options</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><i class="fas fa-times white-text"></i></span>
        </button>
      </div>
      <div class="modal-body">
        <p class="text-center black-text">Bass</p>
        <div class="d-flex justify-content-center">
          <span class="font-weight-bold red-text mr-2"><i class="fas fa-minus fa-lg" aria-hidden="true"></i></span>
          <form class="range-field">
            <input class="custom-range" type="range" min="0" max="10" />
          </form>
          <span class="font-weight-bold green-text ml-2"><i class="fas fa-plus fa-lg" aria-hidden="true"></i></span>
        </div>
        <p class="text-center pt-3 black-text">Midrange</p>
        <div class="d-flex justify-content-center">
          <span class="font-weight-bold red-text mr-2"><i class="fas fa-minus fa-lg" aria-hidden="true"></i></span>
          <form class="range-field">
            <input class="custom-range" type="range" min="0" max="10" />
          </form>
          <span class="font-weight-bold green-text ml-2"><i class="fas fa-plus fa-lg" aria-hidden="true"></i></span>
        </div>
        <p class="text-center pt-3 black-text">Treble</p>
        <div class="d-flex justify-content-center pb-3">
          <span class="font-weight-bold red-text mr-2"><i class="fas fa-minus fa-lg" aria-hidden="true"></i></span>
          <form class="range-field">
            <input class="custom-range" type="range" min="0" max="10" />
          </form>
          <span class="font-weight-bold green-text ml-2"><i class="fas fa-plus fa-lg" aria-hidden="true"></i></span>
        </div>
        <div class="text-center">
          <button class="btn red">Disconnect</button>
          <button class="btn green">Connect</button>
        </div>
      </div>
      <div class="modal-footer justify-content-center d-flex navcolor">
        <button type="button" class="btn bodycolor" data-dismiss="modal">Close</button>
        <button type="submit" class="btn white black-text">Save changes</button>
      </div>
      </form>
    </div>
  </div>
</div>

{{template "base/scripts" .}}
{{template "base/footer" .}}
{{template "base/tabnav" .}}
