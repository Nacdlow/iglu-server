{{template "base/head" .}} {{template "base/nav" .}}
<div class="container animated fadeIn">
  {{if .Bedrooms}}
  <h2 class="pt-5 text-center">Bedrooms</h2>
  <div class="pt-3 pb-3">
    <hr>
  </div>

  <div class="row justify-content-center pt-4">
    {{range .Rooms}}{{if eq .RoomType 1}}
    <div class="col-lg-2 col-md-3 col-4 text-center pb-3">
      <a class="nav-link p-0" href="/room/{{.RoomID}}" id="roomAvatar">
        <img
          src="https://www.scottishfriendly.co.uk/blog/wp-content/uploads/2018/06/Kevin-McFarlane_avatar_1528802862-96x96.jpg"
          class="  rounded-circle z-depth-2" alt="avatar image">
      </a>
      <h6 class="pt-2">{{.RoomName}}</h6>
    </div>
    {{end}}{{end}}
  </div>
  {{else if .Bathrooms}}
  <h2 class="pt-5 text-center">Bathrooms</h2>
  <div class="pt-3 pb-3">
    <hr>
  </div>

  <div class="row justify-content-center pt-4">
    {{range .Rooms}}{{if eq .RoomType 4}}
    <div class="col-lg-2 col-md-3 col-4 text-center pb-3">
      <a class="nav-link p-0" href="/room/{{.RoomID}}" id="roomAvatar">
        <img
          src="https://www.scottishfriendly.co.uk/blog/wp-content/uploads/2018/06/Kevin-McFarlane_avatar_1528802862-96x96.jpg"
          class="  rounded-circle z-depth-2" alt="avatar image">
      </a>
      <h6 class="pt-2">{{.RoomName}}</h6>
    </div>
    {{end}}{{end}}
  </div>
  {{else}}
  <div class="row justify-content-center pt-3">
    <!--<h2 class="pt-5 text-center">Room Control</h2>-->
    <h2 class="pt-5 pr-3 text-center">Room Temperature</h2>
    <div class="card warning-color circle d-flex">
      <div class="card-body d-flex align-items-center justify-content-center animated rotateIn">
        <h5 class="pt-1" style="font-size: 3em;">{{.Temp}}<small>Â°C</small></h5>
      </div>
    </div>
  </div>

  <div class="mobhide">
  <!-- devices tabs-->
  <ul class="nav nav-tabs nav-fill d-flex justify-content-center pt-3" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
        aria-selected="true" style="background-color: #B2B2B2;"><i class="far fa-lightbulb fa-2x"></i><br>Lights</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
        aria-selected="false" style="background-color: #818181;"><i class="fas fa-volume-up fa-2x"></i><br>Speakers</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
        aria-selected="false" style="background-color: #B2B2B2;"><i
          class="far fa-snowflake fa-2x"></i><br>Temperature</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="tv-tab" data-toggle="tab" href="#tv" role="tab" aria-controls="tv" aria-selected="false"
        style="background-color: #818181;"><i class="fas fa-tv fa-2x"></i><br>TV</a>
    </li>
    <li class="nav-item">
      <a class="nav-link black-text" id="tv-tab" data-toggle="modal" data-target="#addModal" role="tab"
        aria-controls="tv" aria-selected="false" style="background-color: #ffffff;"><i
          class="fas fa-plus fa-2x"></i><br>Add Device</a>
    </li>
  </ul>
  <!-- /devices tabs-->

  <!-- devices' tab content (the devices cards)-->
  
  <div class="tab-content" id="myTabContent">

    <!--light device tab cards-->
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
      <div class="row justify-content-center pt-5 pr-5 pl-5 pb-3">
        {{range .Devices}}{{if and (eq .Type 0) (eq .RoomID $.Room.RoomID)}}
        <div class="col-lg-4 col-md-6">
			{{template "cards/light" .}}
        </div>
        {{end}}{{end}}
      </div>
    </div>
    <!--/light device tab cards-->

    <!--speaker device tab cards-->
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <div class="row justify-content-center pt-5 pr-5 pl-5 pb-3">

        {{range .Devices}}{{if and (eq .Type 3) (eq .RoomID $.Room.RoomID)}}
        <!--Card 1-->
        <div class="col-lg-4 col-md-6">
			{{template "cards/speaker" .}}
        </div>
        {{end}}{{end}}
      </div>
    </div>
  
    <!--/speaker device tab cards-->
    <!--speaker options modal-->
    <!--OPTIONS MODAL1-->
      <!-- Modal -->
      <div class="modal fade" id="basicExampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog" role="document" data-backdrop="false">
          <div class="modal-content" data-backdrop="false">
            <div class="modal-header">
              <h5 class="modal-title black-text" id="exampleModalLabel">Options</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h6 class="text-center black-text">Bass</h6>
              <div class="d-flex justify-content-center" style="opacity: 50%;">
                <span class="font-weight-bold black-text mr-2 "><i class="fas fa-minus" aria-hidden="true"></i></span>
                <form class="range-field w-35">
                  <input class="border-0" type="range" min="0" max="100" />
                </form>
                <span class="font-weight-bold black-text ml-2 mt-1"><i class="fas fa-plus"
                    aria-hidden="true"></i></span>
              </div>
              <h6 class="text-center black-text pt-2">Midrange</h6>
              <div class="d-flex justify-content-center" style="opacity: 50%;">
                <span class="font-weight-bold black-text mr-2 "><i class="fas fa-volume-minus"
                    aria-hidden="true"></i></span>
                <form class="range-field w-35">
                  <input class="border-0" type="range" min="0" max="100" />
                </form>
                <span class="font-weight-bold black-text ml-2 mt-1"><i class="fas fa-plus"
                    aria-hidden="true"></i></span>
              </div>
              <h6 class="text-center black-text pt-2">Treble</h6>
              <div class="d-flex justify-content-center" style="opacity: 50%;">
                <span class="font-weight-bold black-text mr-2 "><i class="fas fa-minus" aria-hidden="true"></i></span>
                <form class="range-field w-35">
                  <input class="border-0" type="range" min="0" max="100" />
                </form>
                <span class="font-weight-bold black-text ml-2 mt-1"><i class="fas fa-plus"
                    aria-hidden="true"></i></span>
              </div>
              <div class="text-center">
                <button class="default-button text-center mr-1">Connect</button><button
                  class="default-button text-center ml-2">Disconnect</button>
              </div>
            </div>
            <div class="modal-footer justify-content-center d-flex">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>
      <!--/end speaker options modal-->

    <!--temp device tab cards-->
    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">

      <div class="row justify-content-center pt-5 pr-5 pl-5 pb-3">
        {{range .Devices}}{{if and (eq .Type 1) (eq .RoomID $.Room.RoomID)}}
        <!--Card 1-->
        <div class="col-lg-4 col-md-6">
			{{template "cards/temp" .}}
      </div>
        {{end}}{{end}}
      </div>
    </div>

    <!--TV CARD-->
    <div class="tab-pane fade" id="tv" role="tabpanel" aria-labelledby="tv-tab" style="background-color: #2444ae;">
      <h1 class="d-flex justify-content-center">TV STUFF GOES HERE</h1>
    </div>
    <!--/TV CARD-->
    
  </div>
  </div>

  <div class="deskhide">
    <div class="pt-5">
    <h3 class="text-center">Lights <i class="far fa-lightbulb"></i></h3>
    <div class="scrolling-wrapper">
      {{range .Devices}}{{if and (eq .Type 0) (eq .RoomID $.Room.RoomID)}}
			{{template "cards/light" .}}
            {{end}}{{end}}
  </div>
    </div>
    
    <div class="pt-5">
      <h3 class="text-center">Speakers <i class="fas fa-volume-up"></i></h3>
    <div class="scrolling-wrapper">
      {{range .Devices}}{{if and (eq .Type 3) (eq .RoomID $.Room.RoomID)}}
			{{template "cards/speaker" .}}
      {{end}}{{end}}
    </div>
  </div>
    
  <div class="pt-5">
    <h3 class="text-center">Temperature <i class="far fa-snowflake"></i></h3>
    <div class="scrolling-wrapper">
      {{range .Devices}}{{if and (eq .Type 1) (eq .RoomID $.Room.RoomID)}}
			{{template "cards/temp" .}}
          {{end}}{{end}}
    </div>
  </div>
</div>
</div>
{{end}}
<!-- modal for adding devices-->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"
  data-backdrop="false">
  <div class="modal-dialog" role="document" data-backdrop="false">
    <div class="modal-content" data-backdrop="false" method="POST">
      <div class="modal-header navcolor">
        <h5 class="modal-title" id="addModal">Add Control Module</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body bodycolor">
        <form method="POST">
          <input type="hidden" class="form-control mb-4 text-center w-50" name="room_id" value="{{.Room.RoomID}}">
          <h6 class="text-center">Select Device Type:</h6>
          <div class="md-form pb-3 pr-5 pl-5">
            <select class="browser-default custom-select" id="select" name="device_type">
              <option value="" disabled selected>Choose Type</option>
              <option value="0">Lights</option>
              <option value="1">Temperature Control</option>
              <option value="2">TV</option>
              <option value="3">Speaker</option>
            </select>
          </div>
          <h6 class="text-center">Enter Description:</h6>
          <div class="md-form text-center justify-content-center d-flex">
            <input type="text" class="form-control mb-3 text-center w-50" placeholder="Description" name="description">
          </div>
          <div class="custom-control custom-checkbox text-center">
            <input type="checkbox" class="custom-control-input" id="defaultUnchecked" name="is_main_light_source">
            <label class="custom-control-label" for="defaultUnchecked">Main Light</label>
          </div>
      </div>
      <div class="modal-footer justify-content-center d-flex navcolor">
        <button type="button" class="btn bodycolor" data-dismiss="modal">Close</button>
        <button type="submit" class="btn white black-text">Save changes</button>
      </div>
      </form>
    </div>
  </div>
</div>
{{template "base/scripts" .}}
{{template "base/footer" .}}
{{template "base/tabnav" .}}
